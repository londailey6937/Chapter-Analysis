<!DOCTYPE html>
<html>
<head>
  <title>Progress Test</title>
  <style>
    .progress-bar { width: 300px; height: 30px; background: #e0e0e0; margin: 20px; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #2563eb, #06b6d4); transition: width 0.3s; }
    .log { font-family: monospace; font-size: 12px; padding: 10px; max-height: 400px; overflow-y: auto; }
  </style>
</head>
<body>
  <h2>Progress Bar Test</h2>
  <div class="progress-bar"><div class="progress-fill" id="fill" style="width: 0%"></div></div>
  <div id="text">Ready</div>
  <button onclick="testProgress()">Test Progress Updates</button>
  <div class="log" id="log"></div>
  
  <script>
    let percent = 0;
    async function testProgress() {
      percent = 0;
      document.getElementById('log').innerHTML = '';
      const steps = [
        {p: 10, t: 'received'},
        {p: 20, t: 'analysis-start'},
        {p: 30, t: 'extracting-concepts'},
        {p: 35, t: 'concept-analysis-complete'},
        {p: 40, t: 'evaluating-principles'},
        {p: 42, t: 'evaluating-1'},
        {p: 44, t: 'evaluating-2'},
        {p: 46, t: 'evaluating-3'},
        {p: 48, t: 'evaluating-4'},
        {p: 50, t: 'evaluating-5'},
        {p: 52, t: 'evaluating-6'},
        {p: 54, t: 'evaluating-7'},
        {p: 56, t: 'evaluating-8'},
        {p: 58, t: 'evaluating-9'},
        {p: 60, t: 'evaluating-10'},
        {p: 65, t: 'principles-complete'},
        {p: 75, t: 'building-visualizations'},
        {p: 85, t: 'analyzing-concepts'},
        {p: 95, t: 'finalizing'},
        {p: 100, t: 'analysis-complete'}
      ];
      
      for (const step of steps) {
        await new Promise(r => setTimeout(r, 200));
        percent = step.p;
        document.getElementById('fill').style.width = percent + '%';
        document.getElementById('text').textContent = `${percent}% - ${step.t}`;
        document.getElementById('log').innerHTML += `[${new Date().toISOString().substr(11,12)}] ${percent}% - ${step.t}\n`;
      }
    }
  </script>
</body>
</html>
